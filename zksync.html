<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>zkSync RPC</title>
<script>
  window.addEventListener('load', (event) => {
    // Function to switch to Ethereum Mainnet
    const switchToEthereumMainnet = async () => {
      try {
        // Check if MetaMask is installed
        if (typeof window.ethereum !== 'undefined') {
          // Ethereum Mainnet parameters
          const chainId = '0x144'; // Hexadecimal representation of 1

          // Try to switch to Ethereum Mainnet
          await window.ethereum.request({
            method: 'wallet_switchEthereumChain',
            params: [{ chainId: chainId }],
          });
        } else {
          alert('MetaMask is not installed. Please install it to use this feature.');
        }
      } catch (switchError) {
        // This error code indicates that the chain has not been added to MetaMask
        if (switchError.code === 4902) {
          try {
            // Add Ethereum Mainnet to MetaMask
            await window.ethereum.request({
              method: 'wallet_addEthereumChain',
              params: [{
                chainId: '0x144',
                chainName: 'zkSync Era',
                nativeCurrency: {
                    name: 'ETH',
                    symbol: 'ETH',
                    decimals: 18
                },
                rpcUrls: ['https://mainnet.era.zksync.io/'],
                blockExplorerUrls: ['https://explorer.zksync.io/']
              }],
            });
          } catch (addError) {
            console.error('Failed to add the zkSync Era Mainnet:', addError);
          }
        } else {
          console.error('Failed to switch to the zkSync Era Mainnet:', switchError);
        }
      }
    };

    // Call the function to switch to Ethereum Mainnet
    switchToEthereumMainnet();
  });
</script>
</head>
<body>
<h1>Switch to zkSync Era</h1>
<p>Attempting to switch your MetaMask network to zkSync Era...</p>
</body>
</html>
